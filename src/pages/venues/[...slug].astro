---
import ContentByEntry from 'src/layouts/ContentByEntry.astro'
import { loadAndFormatCollection } from 'src/util/collection.ts'
import Map from 'src/components/Map.astro'

export async function getStaticPaths() {
	const artistEntries = await loadAndFormatCollection('venue')
	return artistEntries.map((entry) => ({
		params: { slug: entry.extra.slug },
		props: {
			entry
		}
	}))
}

const { entry } = Astro.props
---

<ContentByEntry entry={entry}>
	<Map
		markers={[{ coords: [entry.entry.data.lng, entry.entry.data.lat] }]}
		center={[entry.entry.data.lng, entry.entry.data.lat]}
		zoom="16"
		nointeract={true}
	/>
</ContentByEntry>
