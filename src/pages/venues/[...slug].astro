---
import { loadAndFormatCollection } from 'src/util/collection.ts'
import Map from 'src/components/venue/Map.astro'
import CollectionEntryLayout from 'src/layouts/base/EntriesByCollectionLayout.astro'

export async function getStaticPaths() {
	const artistEntries = await loadAndFormatCollection('venue')
	return artistEntries.map((entry) => ({
		params: { slug: entry.extra.slug },
		props: {
			entry
		}
	}))
}

const { entry } = Astro.props
---

<CollectionEntryLayout entry={entry}>
	<Map
		slot="banner"
		markers={[{ coords: [entry.entry.data.lng, entry.entry.data.lat] }]}
		center={[entry.entry.data.lng, entry.entry.data.lat]}
		zoom="16"
		nointeract={true}
	/>
</CollectionEntryLayout>
