---
/**
 * A gallery of ResponsiveImage's with an optional lightbox.
 *
 * If you are using multiple gallerys in one page you shuld pass noLightbox=true
 * and use your own lightbox outside of this component.
 *
 */
import type { ResponsiveImage } from 'src/util/ResponsiveImage'
import Image2 from './Image2.astro'
import ImageGalleryLightbox from './ImageGalleryLightbox'
import { gridWrapper } from './GridContainer.css'

interface Props {
	images: ResponsiveImage[]
	noLightbox?: boolean
}

const { images, noLightbox } = Astro.props
---

<div class={gridWrapper['autoflow']}>
	{images.map((responsiveImage) => <Image2 responsiveImage={responsiveImage} lightboxEnabled={true} />)}
</div>

{!noLightbox && <ImageGalleryLightbox images={images} client:load />}
