---
/**
 * Indicator used site-wide to indicate activeness of an artist/venue.
 */
import { epochYear } from 'src/util/constants'
import { statusIcon, activeIcon, defunctIcon } from './ActiveIndicator.css'
import type { ProcessedEntry } from 'src/util/collection'

interface Props {
	entry: ProcessedEntry<'artist'> | ProcessedEntry<'venue'>
}

const { entry } = Astro.props
const entryData = entry.entry.data
---

<!-- no lifetime string means currently active -->{
	!entry.extra.lifetimeString && entryData.date && (
		<small class={`${statusIcon} ${activeIcon}`} title="Active">
			Active since {entryData.date?.getFullYear()}
		</small>
	)
}
<!-- lifetime string means dead -->
{
	entry.extra.lifetimeString && (
		<small class={`${statusIcon} ${defunctIcon}`} title="Defunct">
			{entryData.date ? `Active ${entry.extra.lifetimeString}` : `Defunct since ${entry.extra.lifetimeString}`}
		</small>
	)
}
