---
/**
 * Indicator used site-wide to indicate activeness of an artist/venue.
 */
import { statusIcon, activeIcon, defunctIcon } from './ActiveIndicator.css'

interface Props {
	died?: Date
	born?: Date
	collection?: string
}

const { died, born, collection } = Astro.props
---

<!-- we only want to show "active" status on venues -->{
	died === undefined && born && collection !== 'artist' && (
		<small class={`${statusIcon} ${activeIcon}`} title="Active">
			Active since {born.getFullYear()}
		</small>
	)
}
{
	died !== undefined && (
		<small class={`${statusIcon} ${defunctIcon}`} title="Defunct">
			{died.getFullYear() !== 1600
				? !born
					? `Defunct since ${died.getFullYear()}`
					: `Active ${born.getFullYear()} to ${died.getFullYear()}`
				: 'Defunct'}
		</small>
	)
}
